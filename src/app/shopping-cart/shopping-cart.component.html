<h4 class="text-orange">Your Shopping Cart </h4>

<p *ngIf="showPreTax">
    <!--<img src="../../assets/images/Info-64.png" height="26" alt="" (click)="totalPrice.open()">-->
    <span class="bold">
        Estimated Pre Tax Sub-Total :
    </span>
    <span class="bold">
        {{itemPrice | currency:'USD':true:'1.2-2'}}
    </span>
</p>
<div *ngIf="!resFlow && data" class="div-border div-border-radius tile padding10 margin-b-10 checkout">
    <p class="shopping-cart-gallery-info " *ngIf="!showDirect">{{openerType}} Door Operator (Installed)</p>
    <div class="clearfix clearfix margin-b-10">
        <span class="col-xs-9" *ngIf="!showDirect">{{gdoOpenerTxt}}</span>
        <div *ngIf="showDirect" class="clearfix margin-b-10 col-xs-9">
            Install of Purchased Opener (x{{qty}})
        </div>
        <span class="col-xs-3 padding-0 text-right">{{baseItmPrice | currency:'USD':true:'1.2-2'}}</span>
    </div>
    <div *ngIf="accessories" class="clearfix margin-b-10">
        Opener Accessories
        <ul>
            <li *ngFor="let opener of gdoOpenerSelected">
                <p>{{opener.name}} <br> (x{{opener.count}} {{opener.price | currency:'USD':true:'1.2-2'}} )

                    <span class="pull-right">{{opener.count * opener.price | currency:'USD':true:'1.2-2'}}</span>
                </p>
            </li>
        </ul>
    </div>
    <div *ngIf="showDirect">
        <div *ngFor="let opener of directItm">
            <div class="clearfix">
                <p class="col-xs-10 pull-left">{{opener.count}}-{{opener.name}} </p>
                <span class="col-xs-2 padding-0 text-right">   {{opener.price | currency:'USD':true:'1.2-2'}}</span>
            </div>
        </div>
    </div>
    <p class="clearfix margin-b-10 padding-l-15" *ngIf="showDistancePrice">
        {{distance}} miles from store <span class="pull-right">{{distancePrice | currency:'USD':true:'1.2-2'}}</span>
    </p>
</div>
<div *ngIf="resFlow" class="checkout">
    <div class="section margin-b-10" *ngFor="let data of resFlowSession.cart; let i = index;">
        <div id="section-header-{{i}}" class="flex space-between subsection" (click)="toggleSection(i)">
            <div class="section-header">
                <div [innerHTML]="data.collectionName"></div>
                <div>{{data.widthF}}'{{data.widthI}}'' X {{data.heightF}}'{{data.heightI}}'' - ({{data.INSTALLTYPE}})</div>
            </div>
            <span>{{data.totalPrice | currency:'USD':true:'1.2-2'}}</span>
            <span><i class="fa fa-chevron-down"></i></span>
        </div>
        <div class="flex space-between margin-t-10 subsection">
            <button class="btn btn-default text-orange" (click)="removeItem(data, i)">REMOVE ITEM</button>
            <div class="flex">
                <span class="margin-r-4">QTY:</span>
                <img (click)="updateQty(data, i)" src="../../assets/images/substract.png" alt="" height="22" width="22" class="minus-quantity margin-r-4">
                <span>{{data.construction.qty}}</span>
                <img (click)="updateQty(data, i, true)" src="../../assets/images/add.png" alt="" height="22" width="22" class="add-quantity margin-l-4">
            </div>
        </div>
        <div id="section-body-{{i}}" class="subsection">
            <app-cart-root-details [Item]="data"></app-cart-root-details>
        </div>
    </div>
</div>
<div *ngIf="(resFlowSession.cart.length > 0) && resFlow">
    <div class="text-center margin-b-20">
        <button  type="submit" class="btn btn-default box-shadow text-orange bold text-uppercase " (click)="AddAnother()">ADD ANOTHER DOOR
        </button>
    </div>
    <div class="text-center margin-b-20">
        <button type="submit" class="btn btn-default box-shadow text-orange bold text-uppercase " (click)="checkout(installTerms, resShoppingCartTerms)">CHECKOUT NOW
        </button>
    </div>
</div>

<div *ngIf="(utils.gdoFlowSession.added) && isGdo">
    <div class="flex space-between margin-t-10 subsection margin-b-20">
        <button class="btn btn-default text-orange" (click)="removeItem(data, i)">REMOVE ITEM</button>
        <div class="flex">
            <span class="margin-r-4">QTY:</span>
            <img (click)="updateQuantity(0)" src="../../assets/images/substract.png" alt="" height="22" width="22" class="minus-quantity margin-r-4">
            <span>{{qty}}</span>
            <img (click)="updateQuantity(1)" src="../../assets/images/add.png" alt="" height="22" width="22" class="add-quantity margin-l-4">
        </div>
    </div>
    <div class="text-center margin-b-20">
        <button type="submit" class="btn btn-default box-shadow text-orange bold text-uppercase " (click)="checkout()">CHECKOUT NOW
        </button>
    </div>
</div>

<div class="text-center" *ngIf="resFlowSession.cart.length === 0 && resFlow">
    <div class="margin-t-20 margin-b-20">Your Shopping Cart Is Empty</div>
    <div>
        <button class="btn btn-default text-orange" (click)="continueShopping()">Continue Shopping</button>
    </div>
</div>
<div class="text-center" *ngIf="!resFlow && showGdo">
    <div class="margin-t-20 margin-b-20">Your Shopping Cart Is Empty</div>
    <div>
        <button class="btn btn-default text-orange" (click)="gdoContinue()">Continue Shopping</button>
    </div>
</div>

